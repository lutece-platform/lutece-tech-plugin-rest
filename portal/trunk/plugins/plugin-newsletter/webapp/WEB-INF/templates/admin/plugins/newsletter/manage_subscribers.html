<div class="content-box">
    <h2>#i18n{newsletter.manage_subscribers.boxTitle}</h2>
    
    <p>
        <h3>#i18n{newsletter.manage_subscribers.searchTitle} :</h3>
        <form method="post" action="jsp/admin/plugins/newsletter/ManageSubscribers.jsp">
            <input size="30" type="text"  name="subscriber_search" value="" />
            <input type="hidden" name="newsletter_id" value="${newsletter.id}" />
            <input type="submit" value="#i18n{newsletter.manage_subscribers.buttonSearch}" class="button" />
        </form>
    </p>
    <h3>#i18n{newsletter.manage_subscribers.listTitle}</h3>
    <form method="post" action="jsp/admin/plugins/newsletter/ManageSubscribers.jsp">
        <@pagination paginator=paginator />
        <input type="hidden" name="newsletter_id" value="${newsletter.id}" />
        <input type="hidden" name="subscriber_search" value="${search_string}" />
        <!-- Number of users per page selector -->
        #i18n{portal.users.manage_users.labelItemsPerPage} :
        <select name="items_per_page">
            <#list [ "5" , "10" , "20" , "50" ] as nb>
            <#if nb_items_per_page = nb >
            <option selected="selected" value="${nb}">${nb}</option>
            <#else>
            <option value="${nb}">${nb}</option>
            </#if>
            </#list>
        </select>                            
        <input type="submit" class="button" value="#i18n{portal.users.manage_users.buttonItemsPerPage}" />
    </form>  
    <table>
        <tr>
            <th>#i18n{newsletter.manage_subscribers.columnTitleEmail}</th>
            <th>#i18n{newsletter.manage_subscribers.columnTitleSubscriptionDate}</th>
            <th>#i18n{newsletter.manage_subscribers.columnTitleDelete}</th>
        </tr>
        <#list subscribers_list as subscriber>
        <tr>
            <td>${subscriber.email}</td>
            <td>${subscriber.dateSubscription}</td>
            <td>
                <a href="jsp/admin/plugins/newsletter/UnsubscribeNewsLetter.jsp?subscriber_id=${subscriber.id}&newsletter_id=${newsletter.id}">
                    <img src="images/admin/skin/actions/delete.png" border="0">
                </a>
            </td>
        </tr>
        </#list>
    </table>
    
    <p>
        <form method="post" action="jsp/admin/plugins/newsletter/DoAddSubscriber.jsp">
            <input size="30" type="text"  name="email" value="" />
            <input type="hidden" name="newsletter_id" value="${newsletter.id}" />
            <input type="submit" value="#i18n{newsletter.manage_subscribers.buttonAdd}" class="button" />
        </form>
    </p>
    
    
    <p>
        <form method="post" action="jsp/admin/plugins/newsletter/ImportSubscribers.jsp">
            <input type="hidden" name="newsletter_id" value="${newsletter.id}" />
            <input type="submit" value="#i18n{newsletter.manage_subscribers.buttonImport}" class="button" />
        </form>
    </p>
    
</div>
