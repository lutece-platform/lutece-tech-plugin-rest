<div class="content-box">	
    
    <h2>#i18n{calendar.modify_calendar.pageTitle}</h2>
    
    <form method="post" action="jsp/admin/plugins/calendar/DoModifyCalendar.jsp" name="modify_calendar">
        <input type="hidden" name="calendar_id" value="${calendar.id}" />        
        <p>
            <label for="calendar_name" >#i18n{calendar.modify_calendar.name}&nbsp;*&nbsp;:</label>
            <input type="text" id="calendar_name" name="calendar_name" value="${calendar.name}" size="100" maxlength="250" />			
        </p>
        <p>
            <label for="calendar_image" >#i18n{calendar.modify_calendar.image}&nbsp;*&nbsp;:</label>
            <@radioImageList name="calendar_image" default_value="${calendar.eventImage}" items=dots_list />
        </p>				
        <p>
            <label for="calendar_prefix" >#i18n{calendar.modify_calendar.prefix}&nbsp;:</label>
            <input type="text" id="calendar_prefix" name="calendar_prefix" value="${calendar.eventPrefix}" size="100" maxlength="250" />			
        </p>
        <p>
            <label for="calendar_role">#i18n{calendar.modify_calendar.role} :</label>
            <@combo name="calendar_role" default_value="${calendar.role}" items=roles_list />
        </p>
        <p>
            <label for="calendar_role_manager">#i18n{calendar.modify_calendar.manager_role} :</label>
            <@combo name="calendar_role_manager" default_value="${calendar.roleManager}" items=roles_list />
        </p>
        <p>
            <label for="workgroup">#i18n{calendar.modify_calendar.workgroup}  :</label>
            <@combo name="workgroup" default_value="${calendar.workgroup}" items=workgroups_list />
        </p>
        <p>
            <input type="submit" value="#i18n{calendar.modify_calendar.buttonLabelValidate}" tabindex="9" class="button" />
            <a href="jsp/admin/plugins/calendar/ManageCalendars.jsp?plugin_name=calendar"><input type="button" class="button" value="#i18n{calendar.modify_calendar.backToCalendarList}"></a>
        </p>							 
    </form>	
    
</div>			      	
<div class="content-box">	
    
    <h2>#i18n{calendar.modify_calendar.titleEventsList}</h2>
    
    <div class="highlight-box">
        <form method="post" action="jsp/admin/plugins/calendar/ModifyCalendar.jsp">
            <@pagination paginator=paginator />
            
            <!-- Number of documents per page selector -->
	                            #i18n{calendar.modify_calendar.labelItemsPerPage} :
            <select name="items_per_page">
                <#list [ "5" , "10" , "20" , "50" ] as nb>
                <#if nb_items_per_page = nb >
                <option selected="selected" value="${nb}">${nb}</option>
                <#else>
                <option value="${nb}">${nb}</option>
                </#if>
                </#list>
            </select>
            <!-- sort the event date ascendant or descendant -->
	                            #i18n{calendar.modify_calendar.labelItemsSortEvent} :
            <@combo name="sort_events" default_value="${default_sort_event}" items=sort_list />
            <input type="hidden" name="calendar_id" value="${calendar.id}" /> 
            <input type="submit" class="button" value="#i18n{calendar.modify_calendar.buttonItemsPerPage}" />
        </form>
    </div>
    <table>
        <tr>
            <th>#i18n{calendar.modify_calendar.columnEventDate}</th>
            <th>#i18n{calendar.modify_calendar.columnEventTimeStart}</th>
            <th>#i18n{calendar.modify_calendar.columnEventTimeEnd}</th>
            <th>#i18n{calendar.modify_calendar.columnEventTitle}</th>
            <th>#i18n{calendar.modify_calendar.columnEventActions}</th>
        </tr>                
        <#list event_list as event >
        <tr>
            <td>
                <a href="jsp/admin/plugins/calendar/ModifyEvent.jsp?plugin_name=calendar&calendar_id=${calendar.id}&event_id=${event.id}&sort_events=${default_sort_event}" class="bullet-link">
                    ${event.date[6..]}/${event.date[4..5]}/${event.date[0..3]}
                </a>                        
            </td>
            <td>
                <#if event.dateTimeStart?exists>
                ${event.dateTimeStart}
                </#if>
            </td>
            <td>
                <#if event.dateTimeEnd?exists>
                ${event.dateTimeEnd}
                </#if>
            </td>
            <td>
                ${event.title}
            </td>
            <td>                
                <a href="jsp/admin/plugins/calendar/RemoveEvent.jsp?plugin_name=calendar&calendar_id=${calendar.id}&event_id=${event.id}">
                    <img src="images/admin/skin/actions/delete.png" alt="#i18n{calendar.modify_calendar.actionDeleteEvent}" title="#i18n{calendar.modify_calendar.actionDeleteEvent}" />
                </a>
            </td>
        </tr>
        </#list>              
    </table>
    
    <form method="post"  action="jsp/admin/plugins/calendar/CreateEvent.jsp">
        <input type="hidden" name="calendar_id" value="${calendar.id}" /> 
        <input type="hidden" name="plugin_name" value="calendar" />   
        <input type="submit" value="#i18n{calendar.modify_calendar.buttonCreate}" class="button" />
    </form>    
</div>
